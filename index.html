<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>General Purpose R Interface to Solr • rOpenSci: solrium</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- ropensci --><link href="ropensci.css" rel="stylesheet">
<meta property="og:title" content="General Purpose R Interface to Solr">
<meta property="og:description" content="Provides a set of functions for querying and parsing data
    from Solr (&lt;https://solr.apache.org/&gt;) endpoints (local and
    remote), including search, faceting, highlighting, stats, and
    more like this. In addition, some functionality is included for
    creating, deleting, and updating documents in a Solr database.">
<meta name="twitter:card" content="summary">
<!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
        <a class="navbar-brand" href="index.html"><i>solrium <small>v1.2.1.91</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/cores_collections.html">Cores/collections management</a>
    </li>
    <li>
      <a href="articles/document_management.html">Document management</a>
    </li>
    <li>
      <a href="articles/local_setup.html">Local Solr setup</a>
    </li>
    <li>
      <a href="articles/search.html">solr search</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/solrium/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="ropensci-the-solrium-package-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ropensci-the-solrium-package-" class="anchor"></a>rOpenSci: The <em>solrium</em> package <img src="hexlogo.png" align="right" height="134.5">
</h1></div>
<p><a href="https://www.repostatus.org/#active"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a> <a href="https://cranchecks.info/pkgs/solrium"><img src="https://cranchecks.info/badges/worst/solrium" alt="cran checks"></a> <a href="https://github.com/r-hub/cranlogs.app"><img src="https://cranlogs.r-pkg.org/badges/solrium?color=2ED968" alt="rstudio mirror downloads"></a> <a href="https://cran.r-project.org/package=solrium"><img src="https://www.r-pkg.org/badges/version/solrium" alt="cran version"></a></p>
<p><strong>A general purpose R interface to <a href="https://solr.apache.org/">Solr</a></strong></p>
<p>Development is now following Solr v7 and greater - which introduced many changes, which means many functions here may not work with your Solr installation older than v7.</p>
<p>Be aware that currently some functions will only work in certain Solr modes, e.g, <code><a href="reference/collection_create.html">collection_create()</a></code> won’t work when you are not in Solrcloud mode. But, you should get an error message stating that you aren’t.</p>
<p>Currently developing against Solr <code>v8.2.0</code></p>
<div id="package-api-and-ways-of-using-the-package" class="section level2">
<h2 class="hasAnchor">
<a href="#package-api-and-ways-of-using-the-package" class="anchor"></a>Package API and ways of using the package</h2>
<p>The first thing to look at is <code>SolrClient</code> to instantiate a client connection to your Solr instance. <code>ping</code> and <code>schema</code> are helpful functions to look at after instantiating your client.</p>
<p>There are two ways to use <code>solrium</code>:</p>
<ol>
<li>Call functions on the <code>SolrClient</code> object</li>
<li>Pass the <code>SolrClient</code> object to functions</li>
</ol>
<p>For example, if we instantiate a client like <code>conn &lt;- SolrClient$new()</code>, then to use the first way we can do <code>conn$search(...)</code>, and the second way by doing <code><a href="reference/solr_search.html">solr_search(conn, ...)</a></code>. These two ways of using the package hopefully make the package more user friendly for more people, those that prefer a more object oriented approach, and those that prefer more of a functional approach.</p>
<p><strong>Collections</strong></p>
<p>Functions that start with <code>collection</code> work with Solr collections when in cloud mode. Note that these functions won’t work when in Solr standard mode</p>
<p><strong>Cores</strong></p>
<p>Functions that start with <code>core</code> work with Solr cores when in standard Solr mode. Note that these functions won’t work when in Solr cloud mode</p>
<p><strong>Documents</strong></p>
<p>The following functions work with documents in Solr</p>
<pre><code>#&gt;  - add
#&gt;  - delete_by_id
#&gt;  - delete_by_query
#&gt;  - update_atomic_json
#&gt;  - update_atomic_xml
#&gt;  - update_csv
#&gt;  - update_json
#&gt;  - update_xml</code></pre>
<p><strong>Search</strong></p>
<p>Search functions, including <code>solr_parse</code> for parsing results from different functions appropriately</p>
<pre><code>#&gt;  - solr_all
#&gt;  - solr_facet
#&gt;  - solr_get
#&gt;  - solr_group
#&gt;  - solr_highlight
#&gt;  - solr_mlt
#&gt;  - solr_parse
#&gt;  - solr_search
#&gt;  - solr_stats</code></pre>
</div>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>Stable version from CRAN</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"solrium"</span><span class="op">)</span></code></pre></div>
<p>Or development version from GitHub</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"ropensci/solrium"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://docs.ropensci.org/solrium">"solrium"</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p>Use <code>SolrClient$new()</code> to initialize your connection. These examples use a remote Solr server, but work on any local Solr server.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">cli</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/SolrClient.html">SolrClient</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>host <span class="op">=</span> <span class="st">"api.plos.org"</span>, path <span class="op">=</span> <span class="st">"search"</span>, port <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; &lt;Solr Client&gt;</span>
<span class="co">#&gt;   host: api.plos.org</span>
<span class="co">#&gt;   path: search</span>
<span class="co">#&gt;   port: </span>
<span class="co">#&gt;   scheme: http</span>
<span class="co">#&gt;   errors: simple</span>
<span class="co">#&gt;   proxy:</span></code></pre></div>
<p>You can also set whether you want simple or detailed error messages (via <code>errors</code>), and whether you want URLs used in each function call or not (via <code>verbose</code>), and your proxy settings (via <code>proxy</code>) if needed. For example:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va"><a href="reference/SolrClient.html">SolrClient</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>errors <span class="op">=</span> <span class="st">"complete"</span><span class="op">)</span></code></pre></div>
<p>Your settings are printed in the print method for the connection object</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cli</span>
<span class="co">#&gt; &lt;Solr Client&gt;</span>
<span class="co">#&gt;   host: api.plos.org</span>
<span class="co">#&gt;   path: search</span>
<span class="co">#&gt;   port: </span>
<span class="co">#&gt;   scheme: http</span>
<span class="co">#&gt;   errors: simple</span>
<span class="co">#&gt;   proxy:</span></code></pre></div>
<p>For local Solr server setup:</p>
<pre><code>bin/solr start -e cloud -noprompt
bin/post -c gettingstarted example/exampledocs/*.xml</code></pre>
</div>
<div id="search" class="section level2">
<h2 class="hasAnchor">
<a href="#search" class="anchor"></a>Search</h2>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="va">cli</span><span class="op">$</span><span class="fu">search</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'*:*'</span>, rows<span class="op">=</span><span class="fl">2</span>, fl<span class="op">=</span><span class="st">'id'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 1</span>
<span class="co">#&gt;   id                                   </span>
<span class="co">#&gt;   &lt;chr&gt;                                </span>
<span class="co">#&gt; 1 10.1371/journal.pbio.1000146/title   </span>
<span class="co">#&gt; 2 10.1371/journal.pbio.1000146/abstract</span></code></pre></div>
<p>And you can get search metadata from the attributes:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span>
<span class="co">#&gt; $names</span>
<span class="co">#&gt; [1] "id"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $row.names</span>
<span class="co">#&gt; [1] 1 2</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $class</span>
<span class="co">#&gt; [1] "tbl_df"     "tbl"        "data.frame"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $numFound</span>
<span class="co">#&gt; [1] 2542432</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $start</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
<div id="search-grouped-data" class="section level3">
<h3 class="hasAnchor">
<a href="#search-grouped-data" class="anchor"></a>Search grouped data</h3>
<p>Most recent publication by journal</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cli</span><span class="op">$</span><span class="fu">group</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'*:*'</span>, group.field<span class="op">=</span><span class="st">'journal'</span>, rows<span class="op">=</span><span class="fl">5</span>, group.limit<span class="op">=</span><span class="fl">1</span>,
                        group.sort<span class="op">=</span><span class="st">'publication_date desc'</span>,
                        fl<span class="op">=</span><span class="st">'publication_date, score'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;                   groupValue numFound start     publication_date score</span>
<span class="co">#&gt; 1               plos biology    45430     0 2021-05-18T00:00:00Z     1</span>
<span class="co">#&gt; 2 plos computational biology    68336     0 2021-05-18T00:00:00Z     1</span>
<span class="co">#&gt; 3              plos genetics    78511     0 2021-05-18T00:00:00Z     1</span>
<span class="co">#&gt; 4              plos medicine    33148     0 2021-05-18T00:00:00Z     1</span>
<span class="co">#&gt; 5                       none    57571     0 2012-10-23T00:00:00Z     1</span></code></pre></div>
<p>First publication by journal</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cli</span><span class="op">$</span><span class="fu">group</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span>, group.field <span class="op">=</span> <span class="st">'journal'</span>, group.limit <span class="op">=</span> <span class="fl">1</span>,
                        group.sort <span class="op">=</span> <span class="st">'publication_date asc'</span>,
                        fl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'publication_date'</span>, <span class="st">'score'</span><span class="op">)</span>,
                        fq <span class="op">=</span> <span class="st">"publication_date:[1900-01-01T00:00:00Z TO *]"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;                          groupValue numFound start     publication_date score</span>
<span class="co">#&gt; 1                      plos biology    45430     0 2003-08-18T00:00:00Z     1</span>
<span class="co">#&gt; 2        plos computational biology    68336     0 2005-06-24T00:00:00Z     1</span>
<span class="co">#&gt; 3                     plos genetics    78511     0 2005-06-17T00:00:00Z     1</span>
<span class="co">#&gt; 4                     plos medicine    33148     0 2004-09-07T00:00:00Z     1</span>
<span class="co">#&gt; 5                              none    57571     0 2005-08-23T00:00:00Z     1</span>
<span class="co">#&gt; 6              plos clinical trials      521     0 2006-04-21T00:00:00Z     1</span>
<span class="co">#&gt; 7  plos neglected tropical diseases    75150     0 2007-08-30T00:00:00Z     1</span>
<span class="co">#&gt; 8                    plos pathogens    73595     0 2005-07-22T00:00:00Z     1</span>
<span class="co">#&gt; 9                          plos one  2110161     0 2006-12-20T00:00:00Z     1</span>
<span class="co">#&gt; 10                     plos medicin        9     0 2012-04-17T00:00:00Z     1</span></code></pre></div>
<p>Search group query : Last 3 publications of 2013.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gq</span> <span class="op">&lt;-</span> <span class="st">'publication_date:[2013-01-01T00:00:00Z TO 2013-12-31T00:00:00Z]'</span>
<span class="va">cli</span><span class="op">$</span><span class="fu">group</span><span class="op">(</span>
  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'*:*'</span>, group.query <span class="op">=</span> <span class="va">gq</span>,
                group.limit <span class="op">=</span> <span class="fl">3</span>, group.sort <span class="op">=</span> <span class="st">'publication_date desc'</span>,
                fl <span class="op">=</span> <span class="st">'publication_date'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   numFound start     publication_date</span>
<span class="co">#&gt; 1   307446     0 2013-12-31T00:00:00Z</span>
<span class="co">#&gt; 2   307446     0 2013-12-31T00:00:00Z</span>
<span class="co">#&gt; 3   307446     0 2013-12-31T00:00:00Z</span></code></pre></div>
<p>Search group with format simple</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cli</span><span class="op">$</span><span class="fu">group</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'*:*'</span>, group.field<span class="op">=</span><span class="st">'journal'</span>, rows<span class="op">=</span><span class="fl">5</span>,
                        group.limit<span class="op">=</span><span class="fl">3</span>, group.sort<span class="op">=</span><span class="st">'publication_date desc'</span>,
                        group.format<span class="op">=</span><span class="st">'simple'</span>, fl<span class="op">=</span><span class="st">'journal, publication_date'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   numFound start                    journal     publication_date</span>
<span class="co">#&gt; 1  2542432     0               PLOS Biology 2021-05-18T00:00:00Z</span>
<span class="co">#&gt; 2  2542432     0               PLOS Biology 2021-05-18T00:00:00Z</span>
<span class="co">#&gt; 3  2542432     0               PLOS Biology 2021-05-18T00:00:00Z</span>
<span class="co">#&gt; 4  2542432     0 PLOS Computational Biology 2021-05-18T00:00:00Z</span>
<span class="co">#&gt; 5  2542432     0 PLOS Computational Biology 2021-05-18T00:00:00Z</span></code></pre></div>
</div>
<div id="facet" class="section level3">
<h3 class="hasAnchor">
<a href="#facet" class="anchor"></a>Facet</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cli</span><span class="op">$</span><span class="fu">facet</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'*:*'</span>, facet.field<span class="op">=</span><span class="st">'journal'</span>, facet.query<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'cell'</span>, <span class="st">'bird'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; $facet_queries</span>
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   term   value</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;int&gt;</span>
<span class="co">#&gt; 1 cell  199069</span>
<span class="co">#&gt; 2 bird   21680</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $facet_fields</span>
<span class="co">#&gt; $facet_fields$journal</span>
<span class="co">#&gt; # A tibble: 9 x 2</span>
<span class="co">#&gt;   term                             value  </span>
<span class="co">#&gt;   &lt;chr&gt;                            &lt;chr&gt;  </span>
<span class="co">#&gt; 1 plos one                         2110161</span>
<span class="co">#&gt; 2 plos genetics                    78511  </span>
<span class="co">#&gt; 3 plos neglected tropical diseases 75150  </span>
<span class="co">#&gt; 4 plos pathogens                   73595  </span>
<span class="co">#&gt; 5 plos computational biology       68336  </span>
<span class="co">#&gt; 6 plos biology                     45430  </span>
<span class="co">#&gt; 7 plos medicine                    33148  </span>
<span class="co">#&gt; 8 plos clinical trials             521    </span>
<span class="co">#&gt; 9 plos medicin                     9      </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $facet_pivot</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $facet_dates</span>
<span class="co">#&gt; NULL</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $facet_ranges</span>
<span class="co">#&gt; NULL</span></code></pre></div>
</div>
<div id="highlight" class="section level3">
<h3 class="hasAnchor">
<a href="#highlight" class="anchor"></a>Highlight</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cli</span><span class="op">$</span><span class="fu">highlight</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'alcohol'</span>, hl.fl <span class="op">=</span> <span class="st">'abstract'</span>, rows<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   names                 abstract                                                </span>
<span class="co">#&gt;   &lt;chr&gt;                 &lt;chr&gt;                                                   </span>
<span class="co">#&gt; 1 10.1371/journal.pone… Background: Binge drinking, an increasingly common form…</span>
<span class="co">#&gt; 2 10.1371/journal.pone… Background and Aim: Harmful &lt;em&gt;alcohol&lt;/em&gt; consumptio…</span></code></pre></div>
</div>
<div id="stats" class="section level3">
<h3 class="hasAnchor">
<a href="#stats" class="anchor"></a>Stats</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">out</span> <span class="op">&lt;-</span> <span class="va">cli</span><span class="op">$</span><span class="fu">stats</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'ecology'</span>, stats.field<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'counter_total_all'</span>,<span class="st">'alm_twitterCount'</span><span class="op">)</span>, stats.facet<span class="op">=</span><span class="st">'journal'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">out</span><span class="op">$</span><span class="va">data</span>
<span class="co">#&gt;                   min     max count missing       sum sumOfSquares        mean</span>
<span class="co">#&gt; counter_total_all   0 2629673 57016       0 372950117 2.403729e+13 6541.148397</span>
<span class="co">#&gt; alm_twitterCount    0    3804 57016       0    322545 8.667376e+07    5.657096</span>
<span class="co">#&gt;                        stddev</span>
<span class="co">#&gt; counter_total_all 19463.00439</span>
<span class="co">#&gt; alm_twitterCount     38.57705</span></code></pre></div>
</div>
<div id="more-like-this" class="section level3">
<h3 class="hasAnchor">
<a href="#more-like-this" class="anchor"></a>More like this</h3>
<p><code>solr_mlt</code> is a function to return similar documents to the one</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">out</span> <span class="op">&lt;-</span> <span class="va">cli</span><span class="op">$</span><span class="fu">mlt</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'title:"ecology" AND body:"cell"'</span>, mlt.fl<span class="op">=</span><span class="st">'title'</span>, mlt.mindf<span class="op">=</span><span class="fl">1</span>, mlt.mintf<span class="op">=</span><span class="fl">1</span>, fl<span class="op">=</span><span class="st">'counter_total_all'</span>, rows<span class="op">=</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">out</span><span class="op">$</span><span class="va">docs</span>
<span class="co">#&gt; # A tibble: 5 x 2</span>
<span class="co">#&gt;   id                           counter_total_all</span>
<span class="co">#&gt;   &lt;chr&gt;                                    &lt;int&gt;</span>
<span class="co">#&gt; 1 10.1371/journal.pbio.1001805             26190</span>
<span class="co">#&gt; 2 10.1371/journal.pbio.1002559             15937</span>
<span class="co">#&gt; 3 10.1371/journal.pbio.0020440             26740</span>
<span class="co">#&gt; 4 10.1371/journal.pone.0072451              4734</span>
<span class="co">#&gt; 5 10.1371/journal.pone.0087217             23421</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">out</span><span class="op">$</span><span class="va">mlt</span>
<span class="co">#&gt; $`10.1371/journal.pbio.1001805`</span>
<span class="co">#&gt; # A tibble: 5 x 4</span>
<span class="co">#&gt;   numFound start id                           counter_total_all</span>
<span class="co">#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;</span>
<span class="co">#&gt; 1     5450     0 10.1371/journal.pone.0098876              4455</span>
<span class="co">#&gt; 2     5450     0 10.1371/journal.pone.0082578              3750</span>
<span class="co">#&gt; 3     5450     0 10.1371/journal.pcbi.1007811               927</span>
<span class="co">#&gt; 4     5450     0 10.1371/journal.pone.0193049              3532</span>
<span class="co">#&gt; 5     5450     0 10.1371/journal.pone.0102159              2889</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`10.1371/journal.pbio.1002559`</span>
<span class="co">#&gt; # A tibble: 5 x 4</span>
<span class="co">#&gt;   numFound start id                           counter_total_all</span>
<span class="co">#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;</span>
<span class="co">#&gt; 1     6857     0 10.1371/journal.pone.0155028              5121</span>
<span class="co">#&gt; 2     6857     0 10.1371/journal.pone.0041684             32685</span>
<span class="co">#&gt; 3     6857     0 10.1371/journal.pone.0023086             10853</span>
<span class="co">#&gt; 4     6857     0 10.1371/journal.pone.0155989              4195</span>
<span class="co">#&gt; 5     6857     0 10.1371/journal.pone.0223982              1233</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`10.1371/journal.pbio.0020440`</span>
<span class="co">#&gt; # A tibble: 5 x 4</span>
<span class="co">#&gt;   numFound start id                           counter_total_all</span>
<span class="co">#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;</span>
<span class="co">#&gt; 1     1567     0 10.1371/journal.pone.0162651              4238</span>
<span class="co">#&gt; 2     1567     0 10.1371/journal.pone.0003259              3615</span>
<span class="co">#&gt; 3     1567     0 10.1371/journal.pone.0102679              5924</span>
<span class="co">#&gt; 4     1567     0 10.1371/journal.pone.0068814             10451</span>
<span class="co">#&gt; 5     1567     0 10.1371/journal.pntd.0003377              5000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`10.1371/journal.pone.0072451`</span>
<span class="co">#&gt; # A tibble: 5 x 4</span>
<span class="co">#&gt;   numFound start id                           counter_total_all</span>
<span class="co">#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;</span>
<span class="co">#&gt; 1    30732     0 10.1371/journal.pntd.0004689              8298</span>
<span class="co">#&gt; 2    30732     0 10.1371/journal.pone.0000461             20728</span>
<span class="co">#&gt; 3    30732     0 10.1371/journal.pone.0006532             26214</span>
<span class="co">#&gt; 4    30732     0 10.1371/journal.ppat.0020122             10449</span>
<span class="co">#&gt; 5    30732     0 10.1371/journal.pone.0106526              3821</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`10.1371/journal.pone.0087217`</span>
<span class="co">#&gt; # A tibble: 5 x 4</span>
<span class="co">#&gt;   numFound start id                           counter_total_all</span>
<span class="co">#&gt;      &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                    &lt;int&gt;</span>
<span class="co">#&gt; 1     6320     0 10.1371/journal.pone.0175497              2712</span>
<span class="co">#&gt; 2     6320     0 10.1371/journal.pone.0204743               558</span>
<span class="co">#&gt; 3     6320     0 10.1371/journal.pone.0159131              7088</span>
<span class="co">#&gt; 4     6320     0 10.1371/journal.pone.0220409              2326</span>
<span class="co">#&gt; 5     6320     0 10.1371/journal.pone.0123774              2728</span></code></pre></div>
</div>
<div id="parsing" class="section level3">
<h3 class="hasAnchor">
<a href="#parsing" class="anchor"></a>Parsing</h3>
<p><code>solr_parse</code> is a general purpose parser function with extension methods <code>solr_parse.sr_search</code>, <code>solr_parse.sr_facet</code>, and <code>solr_parse.sr_high</code>, for parsing <code>solr_search</code>, <code>solr_facet</code>, and <code>solr_highlight</code> function output, respectively. <code>solr_parse</code> is used internally within those three functions (<code>solr_search</code>, <code>solr_facet</code>, <code>solr_highlight</code>) to do parsing. You can optionally get back raw <code>json</code> or <code>xml</code> from <code>solr_search</code>, <code>solr_facet</code>, and <code>solr_highlight</code> setting parameter <code>raw=TRUE</code>, and then parsing after the fact with <code>solr_parse</code>. All you need to know is <code>solr_parse</code> can parse</p>
<p>For example:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">out</span> <span class="op">&lt;-</span> <span class="va">cli</span><span class="op">$</span><span class="fu">highlight</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'alcohol'</span>, hl.fl <span class="op">=</span> <span class="st">'abstract'</span>, rows<span class="op">=</span><span class="fl">2</span><span class="op">)</span>,
                      raw<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "{\n  \"response\":{\"numFound\":36140,\"start\":0,\"maxScore\":4.629626,\"docs\":[\n      {\n        \"id\":\"10.1371/journal.pone.0218147\",\n        \"journal\":\"PLOS ONE\",\n        \"eissn\":\"1932-6203\",\n        \"publication_date\":\"2019-12-10T00:00:00Z\",\n        \"article_type\":\"Research Article\",\n        \"author_display\":[\"Victor M. Jimenez Jr.\",\n          \"Erik W. Settles\",\n          \"Bart J. Currie\",\n          \"Paul S. Keim\",\n          \"Fernando P. Monroy\"],\n        \"abstract\":[\"Background: Binge drinking, an increasingly common form of alcohol use disorder, is associated with substantial morbidity and mortality; yet, its effects on the immune system’s ability to defend against infectious agents are poorly understood. Burkholderia pseudomallei, the causative agent of melioidosis can occur in healthy humans, yet binge alcohol intoxication is increasingly being recognized as a major risk factor. Although our previous studies demonstrated that binge alcohol exposure increased B. pseudomallei near-neighbor virulence in vivo and increased paracellular diffusion and intracellular invasion, no experimental studies have examined the extent to which bacterial and alcohol dosage play a role in disease progression. In addition, the temporal effects of a single binge alcohol dose prior to infection has not been examined in vivo. Principal findings: In this study, we used B. thailandensis E264 a close genetic relative of B. pseudomallei, as useful BSL-2 model system. Eight-week-old female C57BL/6 mice were utilized in three distinct animal models to address the effects of 1) bacterial dosage, 2) alcohol dosage, and 3) the temporal effects, of a single binge alcohol episode. Alcohol was administered comparable to human binge drinking (≤ 4.4 g/kg) or PBS intraperitoneally before a non-lethal intranasal infection. Bacterial colonization of lung and spleen was increased in mice administered alcohol even after bacterial dose was decreased 10-fold. Lung and not spleen tissue were colonized even after alcohol dosage was decreased 20 times below the U.S legal limit. Temporally, a single binge alcohol episode affected lung bacterial colonization for more than 24 h after alcohol was no longer detected in the blood. Pulmonary and splenic cytokine expression (TNF-α, GM-CSF) remained suppressed, while IL-12/p40 increased in mice administered alcohol 6 or 24 h prior to infection. Increased lung and not intestinal bacterial invasion was observed in human and murine non-phagocytic epithelial cells exposed to 0.2% v/v alcohol in vitro. Conclusions: Our results indicate that the effects of a single binge alcohol episode are tissue specific. A single binge alcohol intoxication event increases bacterial colonization in mouse lung tissue even after very low BACs and decreases the dose required to colonize the lungs with less virulent B. thailandensis. Additionally, the temporal effects of binge alcohol alters lung and spleen cytokine expression for at least 24 h after alcohol is detected in the blood. Delayed recovery in lung and not spleen tissue may provide a means for B. pseudomallei and near-neighbors to successfully colonize lung tissue through increased intracellular invasion of non-phagocytic cells in patients with hazardous alcohol intake. \"],\n        \"title_display\":\"Persistence of &lt;i&gt;Burkholderia thailandensis&lt;/i&gt; E264 in lung tissue after a single binge alcohol episode\",\n        \"score\":4.629626},\n      {\n        \"id\":\"10.1371/journal.pone.0138021\",\n        \"journal\":\"PLOS ONE\",\n        \"eissn\":\"1932-6203\",\n        \"publication_date\":\"2015-09-16T00:00:00Z\",\n        \"article_type\":\"Research Article\",\n        \"author_display\":[\"Pavel Grigoriev\",\n          \"Evgeny M. Andreev\"],\n        \"abstract\":[\"Background and Aim: Harmful alcohol consumption has long been recognized as being the major determinant of male premature mortality in the European countries of the former USSR. Our focus here is on Belarus and Russia, two Slavic countries which continue to suffer enormously from the burden of the harmful consumption of alcohol. However, after a long period of deterioration, mortality trends in these countries have been improving over the past decade. We aim to investigate to what extent the recent declines in adult mortality in Belarus and Russia are attributable to the anti-alcohol measures introduced in these two countries in the 2000s. Data and Methods: We rely on the detailed cause-specific mortality series for the period 1980–2013. Our analysis focuses on the male population, and considers only a limited number of causes of death which we label as being alcohol-related: accidental poisoning by alcohol, liver cirrhosis, ischemic heart diseases, stroke, transportation accidents, and other external causes. For each of these causes we computed age-standardized death rates. The life table decomposition method was used to determine the age groups and the causes of death responsible for changes in life expectancy over time. Conclusion: Our results do not lead us to conclude that the schedule of anti-alcohol measures corresponds to the schedule of mortality changes. The continuous reduction in adult male mortality seen in Belarus and Russia cannot be fully explained by the anti-alcohol policies implemented in these countries, although these policies likely contributed to the large mortality reductions observed in Belarus and Russia in 2005–2006 and in Belarus in 2012. Thus, the effects of these policies appear to have been modest. We argue that the anti-alcohol measures implemented in Belarus and Russia simply coincided with fluctuations in alcohol-related mortality which originated in the past. If these trends had not been underway already, these huge mortality effects would not have occurred. \"],\n        \"title_display\":\"The Huge Reduction in Adult Male Mortality in Belarus and Russia: Is It Attributable to Anti-Alcohol Measures?\",\n        \"score\":4.627285}]\n  },\n  \"highlighting\":{\n    \"10.1371/journal.pone.0218147\":{\n      \"abstract\":[\"Background: Binge drinking, an increasingly common form of &lt;em&gt;alcohol&lt;/em&gt; use disorder, is associated\"]},\n    \"10.1371/journal.pone.0138021\":{\n      \"abstract\":[\"Background and Aim: Harmful &lt;em&gt;alcohol&lt;/em&gt; consumption has long been recognized as being the major\"]}}}\n"</span>
<span class="co">#&gt; attr(,"class")</span>
<span class="co">#&gt; [1] "sr_high"</span>
<span class="co">#&gt; attr(,"wt")</span>
<span class="co">#&gt; [1] "json"</span></code></pre></div>
<p>Then parse</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/solr_parse.html">solr_parse</a></span><span class="op">(</span><span class="va">out</span>, <span class="st">'df'</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 2</span>
<span class="co">#&gt;   names                 abstract                                                </span>
<span class="co">#&gt;   &lt;chr&gt;                 &lt;chr&gt;                                                   </span>
<span class="co">#&gt; 1 10.1371/journal.pone… Background: Binge drinking, an increasingly common form…</span>
<span class="co">#&gt; 2 10.1371/journal.pone… Background and Aim: Harmful &lt;em&gt;alcohol&lt;/em&gt; consumptio…</span></code></pre></div>
</div>
<div id="progress-bars" class="section level3">
<h3 class="hasAnchor">
<a href="#progress-bars" class="anchor"></a>Progress bars</h3>
<p>only supported in the core search methods: <code>search</code>, <code>facet</code>, <code>group</code>, <code>mlt</code>, <code>stats</code>, <code>high</code>, <code>all</code></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">library</span>(httr)</a>
<a class="sourceLine" id="cb25-2" title="2"><span class="kw">invisible</span>(cli<span class="op">$</span><span class="kw">search</span>(<span class="dt">params =</span> <span class="kw">list</span>(<span class="dt">q=</span><span class="st">'*:*'</span>, <span class="dt">rows=</span><span class="dv">100</span>, <span class="dt">fl=</span><span class="st">'id'</span>), <span class="dt">progress =</span> httr<span class="op">::</span><span class="kw">progress</span>()))</a>
<a class="sourceLine" id="cb25-3" title="3"><span class="op">|</span><span class="er">==============================================|</span><span class="st"> </span><span class="dv">100</span>%</a></code></pre></div>
</div>
<div id="advanced-function-queries" class="section level3">
<h3 class="hasAnchor">
<a href="#advanced-function-queries" class="anchor"></a>Advanced: Function Queries</h3>
<p>Function Queries allow you to query on actual numeric fields in the SOLR database, and do addition, multiplication, etc on one or many fields to sort results. For example, here, we search on the product of counter_total_all and alm_twitterCount, using a new temporary field “<em>val</em>”</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cli</span><span class="op">$</span><span class="fu">search</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'_val_:"product(counter_total_all,alm_twitterCount)"'</span>,
  rows<span class="op">=</span><span class="fl">5</span>, fl<span class="op">=</span><span class="st">'id,title'</span>, fq<span class="op">=</span><span class="st">'doc_type:full'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 2</span>
<span class="co">#&gt;   id                     title                                                  </span>
<span class="co">#&gt;   &lt;chr&gt;                  &lt;chr&gt;                                                  </span>
<span class="co">#&gt; 1 10.1371/journal.pmed.… Why Most Published Research Findings Are False         </span>
<span class="co">#&gt; 2 10.1371/journal.pcbi.… Ten simple rules for structuring papers                </span>
<span class="co">#&gt; 3 10.1371/journal.pone.… A Multi-Level Bayesian Analysis of Racial Bias in Poli…</span>
<span class="co">#&gt; 4 10.1371/journal.pone.… Long-Term Follow-Up of Transsexual Persons Undergoing …</span>
<span class="co">#&gt; 5 10.1371/journal.pone.… More than 75 percent decline over 27 years in total fl…</span></code></pre></div>
<p>Here, we search for the papers with the most citations</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cli</span><span class="op">$</span><span class="fu">search</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'_val_:"max(counter_total_all)"'</span>,
    rows<span class="op">=</span><span class="fl">5</span>, fl<span class="op">=</span><span class="st">'id,counter_total_all'</span>, fq<span class="op">=</span><span class="st">'doc_type:full'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 2</span>
<span class="co">#&gt;   id                           counter_total_all</span>
<span class="co">#&gt;   &lt;chr&gt;                                    &lt;int&gt;</span>
<span class="co">#&gt; 1 10.1371/journal.pmed.0020124           3256592</span>
<span class="co">#&gt; 2 10.1371/journal.pone.0133079           2629673</span>
<span class="co">#&gt; 3 10.1371/journal.pcbi.1003149           1794503</span>
<span class="co">#&gt; 4 10.1371/journal.pmed.1000376           1249497</span>
<span class="co">#&gt; 5 10.1371/journal.pmed.1000097           1012313</span></code></pre></div>
<p>Or with the most tweets</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cli</span><span class="op">$</span><span class="fu">search</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q<span class="op">=</span><span class="st">'_val_:"max(alm_twitterCount)"'</span>,
    rows<span class="op">=</span><span class="fl">5</span>, fl<span class="op">=</span><span class="st">'id,alm_twitterCount'</span>, fq<span class="op">=</span><span class="st">'doc_type:full'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 2</span>
<span class="co">#&gt;   id                           alm_twitterCount</span>
<span class="co">#&gt;   &lt;chr&gt;                                   &lt;int&gt;</span>
<span class="co">#&gt; 1 10.1371/journal.pcbi.1005619             4935</span>
<span class="co">#&gt; 2 10.1371/journal.pmed.0020124             3890</span>
<span class="co">#&gt; 3 10.1371/journal.pone.0141854             3804</span>
<span class="co">#&gt; 4 10.1371/journal.pone.0115069             3083</span>
<span class="co">#&gt; 5 10.1371/journal.pmed.1001953             2825</span></code></pre></div>
</div>
<div id="using-specific-data-sources" class="section level3">
<h3 class="hasAnchor">
<a href="#using-specific-data-sources" class="anchor"></a>Using specific data sources</h3>
<p><strong>USGS BISON service</strong></p>
<p>The occurrences service</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">conn</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/SolrClient.html">SolrClient</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>scheme <span class="op">=</span> <span class="st">"https"</span>, host <span class="op">=</span> <span class="st">"bison.usgs.gov"</span>, path <span class="op">=</span> <span class="st">"solr/occurrences/select"</span>, port <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>
<span class="va">conn</span><span class="op">$</span><span class="fu">search</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span>, fl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'decimalLatitude'</span>,<span class="st">'decimalLongitude'</span>,<span class="st">'scientificName'</span><span class="op">)</span>, rows <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 3</span>
<span class="co">#&gt;   decimalLongitude scientificName     decimalLatitude</span>
<span class="co">#&gt;              &lt;dbl&gt; &lt;chr&gt;                        &lt;dbl&gt;</span>
<span class="co">#&gt; 1            -95.7 Oreothlypis celata            30.1</span>
<span class="co">#&gt; 2            -75.9 Oreothlypis celata            45.4</span></code></pre></div>
<p>The species names service</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">conn</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/SolrClient.html">SolrClient</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>scheme <span class="op">=</span> <span class="st">"https"</span>, host <span class="op">=</span> <span class="st">"bison.usgs.gov"</span>, path <span class="op">=</span> <span class="st">"solr/scientificName/select"</span>, port <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>
<span class="va">conn</span><span class="op">$</span><span class="fu">search</span><span class="op">(</span>params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>q <span class="op">=</span> <span class="st">'*:*'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 10 x 2</span>
<span class="co">#&gt;    scientificName              `_version_`</span>
<span class="co">#&gt;    &lt;chr&gt;                             &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Epuraea ambigua                 1.68e18</span>
<span class="co">#&gt;  2 Dictyopteris polypodioides      1.68e18</span>
<span class="co">#&gt;  3 Lonicera iberica                1.68e18</span>
<span class="co">#&gt;  4 Pseudopomala brachyptera        1.68e18</span>
<span class="co">#&gt;  5 Oceanococcus                    1.68e18</span>
<span class="co">#&gt;  6 Mactra alata                    1.68e18</span>
<span class="co">#&gt;  7 Reithrodontomys wetmorei        1.68e18</span>
<span class="co">#&gt;  8 Cristellaria orelliana          1.68e18</span>
<span class="co">#&gt;  9 Syringopora rara                1.68e18</span>
<span class="co">#&gt; 10 Aster cordifolius alvearius     1.68e18</span></code></pre></div>
<p><strong>PLOS Search API</strong></p>
<p>Most of the examples above use the PLOS search API… :)</p>
</div>
</div>
<div id="solr-server-management" class="section level2">
<h2 class="hasAnchor">
<a href="#solr-server-management" class="anchor"></a>Solr server management</h2>
<p>This isn’t as complete as searching functions show above, but we’re getting there.</p>
<div id="cores" class="section level3">
<h3 class="hasAnchor">
<a href="#cores" class="anchor"></a>Cores</h3>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">conn</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/SolrClient.html">SolrClient</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Many functions, e.g.:</p>
<ul>
<li><code><a href="reference/core_create.html">core_create()</a></code></li>
<li><code><a href="reference/core_rename.html">core_rename()</a></code></li>
<li><code><a href="reference/core_status.html">core_status()</a></code></li>
<li>…</li>
</ul>
<p>Create a core</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">conn</span><span class="op">$</span><span class="fu">core_create</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"foo_bar"</span><span class="op">)</span></code></pre></div>
</div>
<div id="collections" class="section level3">
<h3 class="hasAnchor">
<a href="#collections" class="anchor"></a>Collections</h3>
<p>Many functions, e.g.:</p>
<ul>
<li><code><a href="reference/collection_create.html">collection_create()</a></code></li>
<li><code><a href="reference/collection_list.html">collection_list()</a></code></li>
<li><code><a href="reference/collection_addrole.html">collection_addrole()</a></code></li>
<li>…</li>
</ul>
<p>Create a collection</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">conn</span><span class="op">$</span><span class="fu">collection_create</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"hello_world"</span><span class="op">)</span></code></pre></div>
</div>
<div id="add-documents" class="section level3">
<h3 class="hasAnchor">
<a href="#add-documents" class="anchor"></a>Add documents</h3>
<p>Add documents, supports adding from files (json, xml, or csv format), and from R objects (including <code>data.frame</code> and <code>list</code> types so far)</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">67</span>, <span class="fl">68</span><span class="op">)</span>, price <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">500000000</span><span class="op">)</span><span class="op">)</span>
<span class="va">conn</span><span class="op">$</span><span class="fu">add</span><span class="op">(</span><span class="va">df</span>, name <span class="op">=</span> <span class="st">"books"</span><span class="op">)</span></code></pre></div>
<p>Delete documents, by id</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">conn</span><span class="op">$</span><span class="fu">delete_by_id</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"books"</span>, ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Or by query</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">conn</span><span class="op">$</span><span class="fu">delete_by_query</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"books"</span>, query <span class="op">=</span> <span class="st">"manu:bank"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="meta" class="section level2">
<h2 class="hasAnchor">
<a href="#meta" class="anchor"></a>Meta</h2>
<ul>
<li>Please <a href="https://github.com/ropensci/solrium/issues">report any issues or bugs</a>
</li>
<li>License: MIT</li>
<li>Get citation information for <code>solrium</code> in R doing <code><a href="https://rdrr.io/r/utils/citation.html">citation(package = 'solrium')</a></code>
</li>
<li>Please note that this package is released with a <a href="https://ropensci.org/code-of-conduct/">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=solrium">https://​cloud.r-project.org/​package=solrium</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/solrium/">https://​github.com/​ropensci/​solrium/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/solrium/issues">https://​github.com/​ropensci/​solrium/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Scott Chamberlain <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1444-9135" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>rOpenSci <br><small class="roles"> Funder </small>  <br><small>(https://ropensci.org/)</small>
</li>
</ul>
</div>

  </div>
</div>


      <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review">Software Review Process</a></li>
                            <li><a href="https://ropensci.org/about#team">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate">Donate</a></li>
                            <li><a href="https://ropensci.org/contact">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/">Documentation</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-solrium',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
