<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add a collection — collection_create • rOpenSci: solrium</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- ropensci -->
<link href="../ropensci.css" rel="stylesheet">

<meta property="og:title" content="Add a collection — collection_create" />
<meta property="og:description" content="Add a collection" />
<meta name="twitter:card" content="summary" />






<!-- Matomo -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script src="https://ropensci.org/scripts/matomo.js"></script>
<noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt="" /></p></noscript>

<!-- End Matomo Code -->

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci" /></a>
        <a class="navbar-brand" href="../index.html"><i>solrium <small>v1.2.1.91</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/cores_collections.html">Cores/collections management</a>
    </li>
    <li>
      <a href="../articles/document_management.html">Document management</a>
    </li>
    <li>
      <a href="../articles/local_setup.html">Local Solr setup</a>
    </li>
    <li>
      <a href="../articles/search.html">solr search</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/solrium/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add a collection</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/solrium/blob/master/R/collection_create.R'><code>R/collection_create.R</code></a></small>
    <div class="hidden name"><code>collection_create.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Add a collection</p>
    </div>

    <pre class="usage"><span class='fu'>collection_create</span><span class='op'>(</span>
  <span class='va'>conn</span>,
  <span class='va'>name</span>,
  numShards <span class='op'>=</span> <span class='fl'>1</span>,
  maxShardsPerNode <span class='op'>=</span> <span class='fl'>1</span>,
  createNodeSet <span class='op'>=</span> <span class='cn'>NULL</span>,
  collection.configName <span class='op'>=</span> <span class='cn'>NULL</span>,
  replicationFactor <span class='op'>=</span> <span class='fl'>1</span>,
  router.name <span class='op'>=</span> <span class='cn'>NULL</span>,
  shards <span class='op'>=</span> <span class='cn'>NULL</span>,
  createNodeSet.shuffle <span class='op'>=</span> <span class='cn'>TRUE</span>,
  router.field <span class='op'>=</span> <span class='cn'>NULL</span>,
  autoAddReplicas <span class='op'>=</span> <span class='cn'>FALSE</span>,
  async <span class='op'>=</span> <span class='cn'>NULL</span>,
  raw <span class='op'>=</span> <span class='cn'>FALSE</span>,
  callopts <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>conn</th>
      <td><p>A solrium connection object, see <a href='SolrClient.html'>SolrClient</a></p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>(character) The name of the core to be created. Required</p></td>
    </tr>
    <tr>
      <th>numShards</th>
      <td><p>(integer) The number of shards to be created as part of the
collection. This is a required parameter when using the 'compositeId' router.</p></td>
    </tr>
    <tr>
      <th>maxShardsPerNode</th>
      <td><p>(integer) When creating collections, the shards and/or replicas
are spread across all available (i.e., live) nodes, and two replicas of the same shard
will never be on the same node. If a node is not live when the CREATE operation is called,
it will not get any parts of the new collection, which could lead to too many replicas
being created on a single live node. Defining maxShardsPerNode sets a limit on the number
of replicas CREATE will spread to each node. If the entire collection can not be fit into
the live nodes, no collection will be created at all. Default: 1</p></td>
    </tr>
    <tr>
      <th>createNodeSet</th>
      <td><p>(logical) Allows defining the nodes to spread the new collection
across. If not provided, the CREATE operation will create shard-replica spread across all
live Solr nodes. The format is a comma-separated list of node_names, such as
localhost:8983_solr, localhost:8984_solr, localhost:8985_solr. Default: <code>NULL</code></p></td>
    </tr>
    <tr>
      <th>collection.configName</th>
      <td><p>(character) Defines the name of the configurations (which
must already be stored in ZooKeeper) to use for this collection. If not provided, Solr
will default to the collection name as the configuration name. Default: <code>compositeId</code></p></td>
    </tr>
    <tr>
      <th>replicationFactor</th>
      <td><p>(integer) The number of replicas to be created for each shard.
Default: 1</p></td>
    </tr>
    <tr>
      <th>router.name</th>
      <td><p>(character) The router name that will be used. The router defines
how documents will be distributed among the shards. The value can be either <code>implicit</code>,
which uses an internal default hash, or <code>compositeId</code>, which allows defining the specific
shard to assign documents to. When using the 'implicit' router, the shards parameter is
required. When using the 'compositeId' router, the numShards parameter is required.
For more information, see also the section Document Routing. Default: <code>compositeId</code></p></td>
    </tr>
    <tr>
      <th>shards</th>
      <td><p>(character) A comma separated list of shard names, e.g.,
shard-x,shard-y,shard-z . This is a required parameter when using the 'implicit' router.</p></td>
    </tr>
    <tr>
      <th>createNodeSet.shuffle</th>
      <td><p>(logical)    Controls whether or not the shard-replicas created
for this collection will be assigned to the nodes specified by the createNodeSet in a
sequential manner, or if the list of nodes should be shuffled prior to creating individual
replicas.  A 'false' value makes the results of a collection creation predictible and
gives more exact control over the location of the individual shard-replicas, but 'true'
can be a better choice for ensuring replicas are distributed evenly across nodes. Ignored
if createNodeSet is not also specified. Default: <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>router.field</th>
      <td><p>(character) If this field is specified, the router will look at the
value of the field in an input document to compute the hash and identify a shard instead of
looking at the uniqueKey field. If the field specified is null in the document, the document
will be rejected. Please note that RealTime Get or retrieval by id would also require the
parameter <em>route</em> (or shard.keys) to avoid a distributed search.</p></td>
    </tr>
    <tr>
      <th>autoAddReplicas</th>
      <td><p>(logical)    When set to true, enables auto addition of replicas on
shared file systems. See the section autoAddReplicas Settings for more details on settings
and overrides. Default: <code>FALSE</code></p></td>
    </tr>
    <tr>
      <th>async</th>
      <td><p>(character) Request ID to track this action which will be processed
asynchronously</p></td>
    </tr>
    <tr>
      <th>raw</th>
      <td><p>(logical) If <code>TRUE</code>, returns raw data</p></td>
    </tr>
    <tr>
      <th>callopts</th>
      <td><p>curl options passed on to <a href='https://docs.ropensci.org/crul/reference/HttpClient.html'>crul::HttpClient</a></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>You can pass in parameters like <code>property.name=value</code>    to set
core property name to value. See the section Defining core.properties for
details on supported properties and values.
(https://lucene.apache.org/solr/guide/8_2/defining-core-properties.html)</p></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># connect</span>
<span class='op'>(</span><span class='va'>conn</span> <span class='op'>&lt;-</span> <span class='va'><a href='SolrClient.html'>SolrClient</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='va'>conn</span><span class='op'>$</span><span class='fu'>collection_exists</span><span class='op'>(</span><span class='st'>"helloWorld"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>conn</span><span class='op'>$</span><span class='fu'>collection_create</span><span class='op'>(</span>name <span class='op'>=</span> <span class='st'>"helloWorld"</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='va'>conn</span><span class='op'>$</span><span class='fu'>collection_exists</span><span class='op'>(</span><span class='st'>"tablesChairs"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>conn</span><span class='op'>$</span><span class='fu'>collection_create</span><span class='op'>(</span>name <span class='op'>=</span> <span class='st'>"tablesChairs"</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <!-- begin footer -->
<div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg" /></div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review">Software Review Process</a></li>
                            <li><a href="https://ropensci.org/about#team">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate">Donate</a></li>
                            <li><a href="https://ropensci.org/contact">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/">Talks & Publications</a></li>
                            <li><a href="https://docs.ropensci.org/">Documentation</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/">Cite rOpenSci</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-solrium',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


